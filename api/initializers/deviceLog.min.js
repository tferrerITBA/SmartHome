var _0xf0f2=['paths','dbName','log','loading\x20device\x20log\x20database\x20[',']...','debug','device\x20log\x20database\x20loaded','info','exports','deviceLogs','device_logs.db','models','deviceLog','insert','fromDto','find','skip','limit','exec','map','join','config'];(function(_0x2fda94,_0x5ca752){var _0x3f769c=function(_0x28b570){while(--_0x28b570){_0x2fda94['push'](_0x2fda94['shift']());}};_0x3f769c(++_0x5ca752);}(_0xf0f2,0xb8));var _0x2f0f=function(_0x48a73e,_0x39f1ac){_0x48a73e=_0x48a73e-0x0;var _0x390c0b=_0xf0f2[_0x48a73e];return _0x390c0b;};'use strict';var Datastore=require('nedb');var Path=require('path');module[_0x2f0f('0x0')]={'initialize':function(_0xe80aaf,_0xbb97f8){_0xe80aaf[_0x2f0f('0x1')]={'dbName':_0x2f0f('0x2'),'create':function(_0x276d21){return new Promise((_0x4cd5de,_0x56a23e)=>{var _0x5c19ce=_0xe80aaf[_0x2f0f('0x3')][_0x2f0f('0x4')]['toDto'](_0x276d21);_0xe80aaf['db'][_0x2f0f('0x1')][_0x2f0f('0x5')](_0x5c19ce,(_0x42919e,_0x1b9dfa)=>{if(_0x42919e){_0x56a23e(_0x42919e);}else{_0x4cd5de(_0xe80aaf['models']['deviceLog'][_0x2f0f('0x6')](_0x1b9dfa));}});});},'retrieveAll':function(_0x4cf0dc,_0x4f3c50){return new Promise((_0x3421cc,_0x38acee)=>{_0xe80aaf['db']['deviceLogs'][_0x2f0f('0x7')]({})[_0x2f0f('0x8')](_0x4cf0dc)[_0x2f0f('0x9')](_0x4f3c50)[_0x2f0f('0xa')]((_0x5159af,_0x428bd2)=>{if(_0x5159af){_0x38acee(_0x5159af);}else{var _0x199a08=_0x428bd2['map'](_0x1305a5=>{return _0xe80aaf[_0x2f0f('0x3')][_0x2f0f('0x4')][_0x2f0f('0x6')](_0x1305a5);});_0x3421cc(_0x199a08);}});});},'retrieveByDeviceId':function(_0x80ee72,_0x263989,_0x46eb8c){return new Promise((_0x5b3101,_0x558f71)=>{_0xe80aaf['db'][_0x2f0f('0x1')][_0x2f0f('0x7')]({'deviceId':_0x80ee72})[_0x2f0f('0x8')](_0x263989)[_0x2f0f('0x9')](_0x46eb8c)[_0x2f0f('0xa')]((_0x44da2d,_0x2dfba2)=>{if(_0x44da2d){_0x558f71(_0x44da2d);}else{var _0x109d09=_0x2dfba2[_0x2f0f('0xb')](_0x11edb5=>{return _0xe80aaf[_0x2f0f('0x3')][_0x2f0f('0x4')]['fromDto'](_0x11edb5);});_0x5b3101(_0x109d09);}});});}};return _0xbb97f8();},'start':function(_0x31748b,_0x5af0a1){var _0x58b6a9=Path[_0x2f0f('0xc')](_0x31748b[_0x2f0f('0xd')]['general'][_0x2f0f('0xe')]['db'][0x0],_0x31748b[_0x2f0f('0x1')][_0x2f0f('0xf')]);_0x31748b[_0x2f0f('0x10')](_0x2f0f('0x11')+_0x58b6a9+_0x2f0f('0x12'),_0x2f0f('0x13'));_0x31748b['db']=_0x31748b['db']||{};_0x31748b['db'][_0x2f0f('0x1')]=new Datastore({'filename':_0x58b6a9,'autoload':!![]});_0x31748b[_0x2f0f('0x10')](_0x2f0f('0x14'),_0x2f0f('0x15'));return _0x5af0a1();}};